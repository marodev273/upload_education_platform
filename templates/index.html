{% extends "layout.html" %}
{% block title %}ุงูุฑุฆูุณูุฉ{% endblock %}
{% block content %}

<section class="hero">
    <h1>ุฃูุถู ุดุฑุญ ููููุงูุฌ ุงูุชุนููููุฉ</h1>
    <p>ุงูุถู ุงูุขู ูุงุจุฏุฃ ุฑุญูุชู ูุญู ุงูุชููู ุงูุฏุฑุงุณู ูุน ุฃูุถู ุงููุนูููู.</p>
    <a href="{{ url_for('list_courses') }}" class="cta-btn">ุชุตูุญ ุงูููุฑุณุงุช</a>
</section>

<section class="teacher-filter-section">
    <h2>ุงุฎุชุฑ ุงููุฏุฑุณูู</h2>
    <div class="curved-line">
        <svg width="200" height="20" viewBox="0 0 200 20" xmlns="http://www.w3.org/2000/svg">
            <path d="M 10 10 Q 100 30 190 10" stroke="#3498db" stroke-width="3" fill="transparent" />
        </svg>
    </div>
    
    {% if teachers %}
    <div class="teachers-grid">
        {% for teacher in teachers %}
        <div class="teacher-card">
            <div class="teacher-photo">
                <img src="{{ teacher.photo or url_for('static', filename='img/default_teacher.png') }}" alt="{{ teacher.name }}">
            </div>
            <h4>{{ teacher.name }}</h4>
            <p>{{ teacher.subjects_taught.split(',')[0] }}</p>
            <a href="{{ url_for('teacher_courses', teacher_id=teacher.id) }}" class="teacher-courses-btn">
                ุนุฑุถ ุงูููุฑุณุงุช
            </a>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</section>

<section class="courses-section">
    <h2>ุฃูุณุงู ุงูููุตุฉ</h2>
    <div class="courses-grid">
        <div class="course-card">
            <h3>ุงูุตู ุงูุฃูู ุงูุซุงููู</h3>
            <p>ุดุฑุญ ูุงูู ููุจุณุท ูููุงูุฌ ุงูุตู ุงูุฃูู ุงูุซุงููู.</p>
            <a href="{{ url_for('list_courses', grade='ุงูุตู ุงูุฃูู ุงูุซุงููู') }}">ุนุฑุถ ุงูููุฑุณุงุช</a>
        </div>
        <div class="course-card">
            <h3>ุงูุตู ุงูุซุงูู ุงูุซุงููู</h3>
            <p>ูุฑุงุฌุนุงุช ููุงุฆูุฉ ูุชุฏุฑูุจุงุช ููุซูุฉ ูุทูุงุจ ุงูุตู ุงูุซุงูู.</p>
            <a href="{{ url_for('list_courses', grade='ุงูุตู ุงูุซุงูู ุงูุซุงููู') }}">ุนุฑุถ ุงูููุฑุณุงุช</a>
        </div>
        <div class="course-card">
            <h3>ุงูุตู ุงูุซุงูุซ ุงูุซุงููู</h3>
            <p>ุชุฃููู ุดุงูู ูุงูุชุญุงูุงุช ุงูุซุงูููุฉ ุงูุนุงูุฉ ูุน ุฃููู ุงููุฑุงุฌุนุงุช.</p>
            <a href="{{ url_for('list_courses', grade='ุงูุตู ุงูุซุงูุซ ุงูุซุงููู') }}">ุนุฑุถ ุงูููุฑุณุงุช</a>
        </div>
    </div>
</section>

<section class="suggested-courses-section">
    <h2>ููุฑุณุงุชูุง ุงูููุชุฑุญุฉ</h2>
    <div class="curved-line">
        <svg width="200" height="20" viewBox="0 0 200 20" xmlns="http://www.w3.org/2000/svg">
            <path d="M 10 10 Q 100 30 190 10" stroke="#3498db" stroke-width="3" fill="transparent" />
        </svg>
    </div>

    <div class="suggested-courses-grid">
        {% if latest_courses %}
            {% for course in latest_courses %}
            <div class="new-pro-card">
                <div class="new-card-image">
                    <img src="{{ course.thumbnail }}" alt="{{ course.title }}">
                    <div class="pinned-badge">ููุฑุณ ูุซุจุช</div>
                </div>
                <div class="new-card-content">
                    <div class="new-card-header">
                        <div class="header-main">
                            <h3 class="new-card-title">{{ course.title }}</h3>
                            </div>
                        <div class="header-action">
                            <a href="{{ url_for('course_details', course_id=course.id) }}" class="details-btn">ุงูุฏุฎูู ููููุฑุณ</a>
                        </div>
                    </div>
                    
                    <p class="new-card-description">
                        {{ course.description | truncate(70) }}
                    </p>

                    <div class="new-card-tags">
                        {% if not course.is_paid %}
                            <span class="tag tag-free">ููุฑุณ ูุฌุงูู!</span>
                        {% else %}
                             <span class="tag tag-paid">{{ course.price }} ุฌููู</span>
                        {% endif %}
                    </div>

                    <div class="new-card-info">
                        <span>๐๏ธ ุชุงุฑูุฎ ุงูุฅุถุงูุฉ: {{ course.created_at.strftime('%Y-%m-%d') }}</span>
                        <span>๐๏ธ ุขุฎุฑ ุชุญุฏูุซ: {{ course.updated_at.strftime('%Y-%m-%d') }}</span>
                    </div>

                    <div class="new-card-footer-action">
                        {% if course in current_user.enrolled_courses %}
                            <a href="{{ url_for('course_details', course_id=course.id) }}" class="footer-action-btn enrolled">ุฃูุช ูุดุชุฑู ุจุงููุนู</a>
                        {% elif course.is_paid %}
                            <a href="{{ url_for('purchase_course', course_id=course.id) }}" class="footer-action-btn">ุดุฑุงุก ุงูููุฑุณ</a>
                        {% else %}
                             <form action="{{ url_for('enroll', course_id=course.id) }}" method="POST" style="margin: 0;">
                                <button type="submit" class="footer-action-btn free">ุงุดุชุฑู ูุฌุงูุงู</button>
                            </form>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <p style="color: white; grid-column: 1 / -1;">ูุง ุชูุฌุฏ ููุฑุณุงุช ููุชุฑุญุฉ ุญุงูููุง.</p>
        {% endif %}
    </div>
</section>

{% endblock %}